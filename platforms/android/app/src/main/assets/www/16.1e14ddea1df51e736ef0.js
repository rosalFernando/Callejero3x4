(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"5DjP":function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),o=l("ZZ/e"),i=l("4R65"),r=l("bfyV"),u=function(){return(u=Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++)for(var o in t=arguments[l])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)},a=function(){function n(n,t,l,e){this.navCtrl=n,this.router=t,this.cloud=l,this.loading=e,this.agrupList=[],this.agrupUbi=[]}return n.prototype.presentLoading=function(n){return t=this,void 0,e=function(){return function(n,t){var l,e,o,i,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(l)throw new TypeError("Generator is already executing.");for(;r;)try{if(l=1,e&&(o=2&i[0]?e.return:i[0]?e.throw||((o=e.return)&&o.call(e),0):e.next)&&!(o=o.call(e,i[1])).done)return o;switch(e=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,e=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){r.label=i[1];break}if(6===i[0]&&r.label<o[1]){r.label=o[1],o=i;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(i);break}o[2]&&r.ops.pop(),r.trys.pop();continue}i=t.call(n,r)}catch(u){i=[6,u],e=0}finally{l=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,function(t){switch(t.label){case 0:return[4,this.loading.create({message:n})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})},new((l=void 0)||(l=Promise))(function(n,o){function i(n){try{u(e.next(n))}catch(t){o(t)}}function r(n){try{u(e.throw(n))}catch(t){o(t)}}function u(t){t.done?n(t.value):new l(function(n){n(t.value)}).then(i,r)}u((e=e.apply(t,[])).next())});var t,l,e},n.prototype.ionViewDidEnter=function(){var n=this;this.presentLoading("Cargando mapa"),setTimeout(function(){n.loadmap(),n.loading.dismiss()},1e3)},n.prototype.loadmap=function(){var n=this;this.icon=i.icon({iconUrl:"../../../assets/img/plumas.png",iconSize:[38,60],shadowSize:[50,64],iconAnchor:[22,94],shadowAnchor:[4,62],popupAnchor:[-3,-76]}),this.map=new i.Map("map",{center:[37.89155,-4.77275]}).setView([37.89155,-4.77275],14),Object(i.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,minZoom:10}).addTo(this.map),this.cloud.getUbicaciones().then(function(t){n.agrupUbi=[],t.forEach(function(t){n.agrupUbi.push(u({id:t.id},t.data())),Object(i.marker)([t.data().pos._lat,t.data().pos._long],{icon:n.icon}).addTo(n.map).bindPopup(t.data().nombre).openPopup()})}),setTimeout(function(){},5e3)},n.prototype.ionViewWillLeave=function(){this.map.remove()},n.prototype.irListas=function(){this.router.navigate(["listas"])},n}(),c=function(){return function(){}}(),p=l("pMnS"),s=l("oBZk"),b=l("ZYCi"),h=e.nb({encapsulation:0,styles:[[""]],data:{}});function f(n){return e.Eb(0,[e.Bb(402653184,1,{mapContainer:0}),(n()(),e.pb(1,0,null,null,2,"ion-header",[],null,null,null,s.E,s.j)),e.ob(2,49152,null,0,o.z,[e.h,e.k],null,null),(n()(),e.pb(3,0,null,0,0,"link",[["crossorigin",""],["href","https://unpkg.com/leaflet@1.4.0/dist/leaflet.css"],["integrity","sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="],["rel","stylesheet"]],null,null,null,null,null)),(n()(),e.pb(4,0,null,null,5,"ion-content",[],null,null,null,s.B,s.g)),e.ob(5,49152,null,0,o.s,[e.h,e.k],null,null),(n()(),e.pb(6,0,[[1,0],["map",1]],0,0,"div",[["id","map"],["style","width:100%;height:100%"]],null,null,null,null,null)),(n()(),e.pb(7,0,null,0,2,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,s.C,s.h)),e.ob(8,49152,null,0,o.u,[e.h,e.k],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),e.pb(9,0,null,0,0,"img",[["src","../../assets/img/puertas.png"],["style","width:60px;margin:0px;background-color: purple"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.irListas()&&e),e},null,null))],function(n,t){n(t,8,0,"end","bottom")},null)}function d(n){return e.Eb(0,[(n()(),e.pb(0,0,null,null,1,"app-mapa-principal",[],null,null,null,f,h)),e.ob(1,49152,null,0,a,[o.Fb,b.n,r.a,o.Db],null,null)],null,null)}var g=e.lb("app-mapa-principal",a,d,{},{},[]),m=l("Ip0R"),w=l("gIcY");l.d(t,"MapaPrincipalPageModuleNgFactory",function(){return y});var y=e.mb(c,[],function(n){return e.vb([e.wb(512,e.j,e.bb,[[8,[p.a,g]],[3,e.j],e.x]),e.wb(4608,m.j,m.i,[e.u,[2,m.r]]),e.wb(4608,w.g,w.g,[]),e.wb(4608,o.b,o.b,[e.z,e.g]),e.wb(4608,o.Eb,o.Eb,[o.b,e.j,e.q]),e.wb(4608,o.Ib,o.Ib,[o.b,e.j,e.q]),e.wb(1073742336,m.b,m.b,[]),e.wb(1073742336,w.f,w.f,[]),e.wb(1073742336,w.a,w.a,[]),e.wb(1073742336,o.Bb,o.Bb,[]),e.wb(1073742336,b.o,b.o,[[2,b.u],[2,b.n]]),e.wb(1073742336,c,c,[]),e.wb(1024,b.l,function(){return[[{path:"",component:a}]]},[])])})}}]);